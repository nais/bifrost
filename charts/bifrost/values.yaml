backend:
  image:
    repository: europe-north1-docker.pkg.dev/nais-io/nais/images/bifrost
    pullPolicy: Always
    tag: main
  resources:
    requests:
      cpu: 100m
      memory: 256Mi
  debugEnabled: false
  logLevel: info
  logFormat: json

  unleash:
    # Kubernetes namespace to create unleash instances in
    # instanceNamespace:  # mapped in fasit

    # Shared Cloud SQL instance ID
    # sqlInstanceId:  # mapped in fasit
    # sqlInstanceAddress:  # mapped in fasit
    # sqlInstanceRegion:  # mapped in fasit

    # Shared service account (used by Cloud SQL auth proxy)
    # googleServiceAccountEmail:  # mapped in fasit
    # kubernetesServiceAccountName:  # mapped in fasit

    # Unleash user interface web ingress config
    # webIngressClass:  # mapped in fasit
    # webIngressHost:  # mapped in fasit

    # Unleash api ingress config
    # apiIngressClass:  # mapped in fasit
    # apiIngressHost:  # mapped in fasit

    # Unleash web oauth config
    # webOAuthJWTAudience: # mapped in fasit

    # Default release channel for new instances (optional)
    # Set via Fasit per environment once ReleaseChannel CRDs are available
    defaultReleaseChannel: ""

    # Migration settings for transitioning custom versions to release channels
    # Enable this to migrate existing instances with custom versions to a release channel
    migration:
      enabled: false
      targetChannel: ""
      healthTimeout: "5m"
      delay: "30s"

    # Channel migration settings for transitioning between release channels (e.g., v5 to v6)
    # This is useful for major version upgrades across all instances on a specific channel
    channelMigration:
      enabled: false
      # Comma-separated list of source:target channel pairs, e.g. "stable-v5:stable-v6,rapid-v5:rapid-v6"
      map: ""
      healthTimeout: "5m"
      delay: "30s"

    # Unleash teams config
    teamsApiUrl: https://console.nav.cloud.nais.io/graphql
    # teamsApiToken:  # mapped in fasit
    teamsApiTokenSecretName: teams-api-token
    teamsApiTokenSecretKey: token

  google: {}
    # projectId:  # mapped in fasit
    # serviceAccountEmail:  # mapped in fasit

  teams:
    apiUrl: https://console.nav.cloud.nais.io/graphql
    # apiToken:  # mapped in fasit
    apiTokenSecretKey: token

nameOverride: ""
fullnameOverride: ""

service:
  type: ClusterIP
  port: 80

networkPolicy:
  enabled: true
  allowDNS: true
  # apiServerCIDR is the CIDR of the Kubernetes API server.
  # apiServerCIDR: 1.2.3.4/32

metrics:
  enabled: false

alerts:
  enabled: true
